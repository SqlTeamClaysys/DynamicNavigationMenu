@model List<DynamicNavigationMenu.Models.NavigationMenuList>

@{
    var subMenuList = ViewBag.SubMenuList as List<DynamicNavigationMenu.Models.NavigationMenuList>;
}

<div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
    <ul class="navbar-nav flex-grow-1">
        @foreach (var mainMenu in Model)
        {
            <li class="nav-item">
                <a class="nav-link text-dark" data-bs-toggle="collapse" href="#submenu-@mainMenu.Id" role="button"
                aria-expanded="false" aria-controls="submenu-@mainMenu.Id">@mainMenu.MenuName</a>

                <div class="collapse" id="submenu-@mainMenu.Id">
                    <ul class="submenu">
                        @foreach (var subMenu in subMenuList)
                        {
                            if (mainMenu.Id == subMenu.RootId)
                            {
                                <li class="nav-item">
                                    <a class="nav-link text-dark" asp-controller="Home" asp-action="SubPage">@subMenu.MenuName</a>
                                </li>
                            }
                        }
                    </ul>
                </div>
            </li>
        }
    </ul>
</div>

@section scripts {
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
}
